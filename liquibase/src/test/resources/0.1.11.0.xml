<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

	<changeSet id="1" author="TSCY">
		<createTable tableName="COHA_STATISTIC">
			<column name="COMMAND_TYPE_NAME" type="VARCHAR(255)" />
			<column name="ACTIVE" type="NUMBER(10,0)" />
			<column name="AVG_ACTIVE" type="NUMBER(10,2)" />
			<column name="TOTAL" type="NUMBER(10,0)" />
			<column name="MIN_EXECUTION_TIME" type="NUMBER(10,0)" />
			<column name="MAX_EXECUTION_TIME" type="NUMBER(10,0)" />
			<column name="AVG_EXECUTION_TIME" type="NUMBER(10,2)" />
		</createTable>
	
		<addPrimaryKey tableName="COHA_STATISTIC" columnNames="COMMAND_TYPE_NAME" constraintName="COHA_MONITOR_PK"/>
	</changeSet>
	
	<changeSet id="2" author="TSCY">
		<createTable tableName="COHA_COUNTER">
			<column name="COMMAND_TYPE_NAME" type="VARCHAR(255)" />
			<column name="CURRENT_ACTIVE" type="NUMBER(10,0)" />
		</createTable>
		
		<addPrimaryKey tableName="COHA_COUNTER" columnNames="COMMAND_TYPE_NAME" constraintName="COHA_PARALLEL_PK"/>
	</changeSet>
	
	<changeSet id="3" author="TSCY">
		<renameColumn tableName="COHA_STATISTIC" oldColumnName="ACTIVE" newColumnName="MAX_PARALLEL"/>
		<dropColumn tableName="COHA_STATISTIC" columnName="AVG_ACTIVE"/>
	</changeSet>

</databaseChangeLog>